
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A site for documenting MCW Research Computing systems and services.">
      
      
        <meta name="author" content="MCW RCC">
      
      
        <link rel="canonical" href="https://docs.rcc.mcw.edu/software/singularity/">
      
      
        <link rel="prev" href="../schrodinger/">
      
      
        <link rel="next" href="../../secure-computing/reshpc/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.12">
    
    
      
        <title>Singularity - MCW Research Computing</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0d440cfe.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
      
      
  
  
    
    
  
  
  <style>:root{--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>');}</style>


    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-50ZTKYWP10"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-50ZTKYWP10",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-50ZTKYWP10",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#singularity" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
  <a style="color: white; " href="https://docs.rcc.mcw.edu/pubs/">
    Do you rely on Research Computing resources? Please acknowledge that support in your publications. It really helps!
  </a>

          </div>
          
        </aside>
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="MCW Research Computing" class="md-header__button md-logo" aria-label="MCW Research Computing" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 3v15h3V3H9m3 2 4 13 3-1-4-13-3 1M5 5v13h3V5H5M3 19v2h18v-2H3Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MCW Research Computing
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Singularity
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/mcw-rcc/mcw-rcc.github.io/tree/src" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    mcw-rcc/docs
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../user-guide/quickstart/" class="md-tabs__link">
        User Guide
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../storage/rcc-storage/" class="md-tabs__link">
        Data Storage
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../modules/" class="md-tabs__link md-tabs__link--active">
        Software
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../secure-computing/reshpc/" class="md-tabs__link">
        ResHPC
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="MCW Research Computing" class="md-nav__button md-logo" aria-label="MCW Research Computing" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 3v15h3V3H9m3 2 4 13 3-1-4-13-3 1M5 5v13h3V5H5M3 19v2h18v-2H3Z"/></svg>

    </a>
    MCW Research Computing
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mcw-rcc/mcw-rcc.github.io/tree/src" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    mcw-rcc/docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
      
        <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
          Home
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../news/" class="md-nav__link">
        Recent News
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../grants/" class="md-nav__link">
        Grant Boilerplate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../pubs/" class="md-nav__link">
        Publications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          User Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          User Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/quickstart/" class="md-nav__link">
        Quick Start
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/accounts/" class="md-nav__link">
        Getting an Account
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/etiquette/" class="md-nav__link">
        User Etiquette
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
      
      
      
        <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
          Connecting
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Connecting
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/access/login/" class="md-nav__link">
        Logging in
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/access/ondemand/" class="md-nav__link">
        Open OnDemand
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/access/ssh/" class="md-nav__link">
        SSH Connection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/access/remote-access/" class="md-nav__link">
        Remote Access
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
      
      
      
        <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
          Running Jobs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_5">
          <span class="md-nav__icon md-icon"></span>
          Running Jobs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/jobs/running-jobs/" class="md-nav__link">
        Submitting SLURM Jobs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/jobs/storage-job/" class="md-nav__link">
        Staging Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/jobs/software-job/" class="md-nav__link">
        Software in a Job
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/jobs/troubleshoot/" class="md-nav__link">
        Troubleshoot Jobs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/jobs/xdmod/" class="md-nav__link">
        Job Metrics
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Data Storage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Data Storage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../storage/rcc-storage/" class="md-nav__link">
        Storage Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../storage/paid-storage/" class="md-nav__link">
        Paid Additional Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../storage/ref-data/" class="md-nav__link">
        Reference Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../storage/mcw-storage/" class="md-nav__link">
        Additional Storage Options
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
      
      
      
        <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
          Access & Sharing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_5">
          <span class="md-nav__icon md-icon"></span>
          Access & Sharing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../storage/data-access/" class="md-nav__link">
        Mounting Drives
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../storage/data-sharing/" class="md-nav__link">
        Sharing Data
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
      
      
      
        <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
          Manage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_6">
          <span class="md-nav__icon md-icon"></span>
          Manage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../storage/file-cleanup/" class="md-nav__link">
        File Cleanup & Archiving
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../storage/file-recovery/" class="md-nav__link">
        File Recovery
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../storage/file-transfer/" class="md-nav__link">
        File Transfer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../storage/file-permissions/" class="md-nav__link">
        File Permissions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Software
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Software
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../modules/" class="md-nav__link">
        Using Modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../module-request/" class="md-nav__link">
        Requesting Software
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
          Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../R/" class="md-nav__link">
        R
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../python/" class="md-nav__link">
        Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tensorflow/" class="md-nav__link">
        TensorFlow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pytorch/" class="md-nav__link">
        PyTorch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../matlab/" class="md-nav__link">
        MATLAB Parallel Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../schrodinger/" class="md-nav__link">
        Schrodinger
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Singularity
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Singularity
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#singularity-commands" class="md-nav__link">
    Singularity Commands
  </a>
  
    <nav class="md-nav" aria-label="Singularity Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download-pre-built-containers" class="md-nav__link">
    Download Pre-built Containers
  </a>
  
    <nav class="md-nav" aria-label="Download Pre-built Containers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pull-from-singularity-hub" class="md-nav__link">
    Pull from Singularity Hub
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pull-from-docker-hub" class="md-nav__link">
    Pull from Docker Hub
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-from-singularity-hub" class="md-nav__link">
    Build from Singularity Hub
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-from-docker-hub" class="md-nav__link">
    Build from Docker Hub
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-a-container" class="md-nav__link">
    Build a Container
  </a>
  
    <nav class="md-nav" aria-label="Build a Container">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#definition-file" class="md-nav__link">
    Definition File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build" class="md-nav__link">
    Build
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test" class="md-nav__link">
    Test
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#containers-in-jobs" class="md-nav__link">
    Containers in Jobs
  </a>
  
    <nav class="md-nav" aria-label="Containers in Jobs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-interactive-job" class="md-nav__link">
    Example Interactive job
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-batch-job" class="md-nav__link">
    Example Batch Job
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#singularity-on-rcc" class="md-nav__link">
    Singularity on RCC
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#singularity-and-docker" class="md-nav__link">
    Singularity and Docker
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-help" class="md-nav__link">
    Getting Help
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          ResHPC
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          ResHPC
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../secure-computing/reshpc/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../secure-computing/project-account/" class="md-nav__link">
        Accounts & Projects
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../secure-computing/mfa-login/" class="md-nav__link">
        Logging in
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../secure-computing/project-storage/" class="md-nav__link">
        Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../secure-computing/workflow/" class="md-nav__link">
        Run a Job
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../secure-computing/software/" class="md-nav__link">
        Software
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#singularity-commands" class="md-nav__link">
    Singularity Commands
  </a>
  
    <nav class="md-nav" aria-label="Singularity Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download-pre-built-containers" class="md-nav__link">
    Download Pre-built Containers
  </a>
  
    <nav class="md-nav" aria-label="Download Pre-built Containers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pull-from-singularity-hub" class="md-nav__link">
    Pull from Singularity Hub
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pull-from-docker-hub" class="md-nav__link">
    Pull from Docker Hub
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-from-singularity-hub" class="md-nav__link">
    Build from Singularity Hub
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-from-docker-hub" class="md-nav__link">
    Build from Docker Hub
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-a-container" class="md-nav__link">
    Build a Container
  </a>
  
    <nav class="md-nav" aria-label="Build a Container">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#definition-file" class="md-nav__link">
    Definition File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build" class="md-nav__link">
    Build
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test" class="md-nav__link">
    Test
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#containers-in-jobs" class="md-nav__link">
    Containers in Jobs
  </a>
  
    <nav class="md-nav" aria-label="Containers in Jobs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-interactive-job" class="md-nav__link">
    Example Interactive job
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-batch-job" class="md-nav__link">
    Example Batch Job
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#singularity-on-rcc" class="md-nav__link">
    Singularity on RCC
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#singularity-and-docker" class="md-nav__link">
    Singularity and Docker
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-help" class="md-nav__link">
    Getting Help
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  



<h1 id="singularity">Singularity<a class="headerlink" href="#singularity" title="Permanent link">#</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">#</a></h2>
<p><a href="https://sylabs.io/guides/3.7/user-guide/">Singularity</a> is a container solution designed for high-performance computing systems. A Singularity container is a collection of application and dependency files, which is packaged as a single portable image file. Containers are independent from the host operating system, allowing applications that are not natively supported to run on a variety of HPC resources. They are conceptually similar to Docker, but focus more on HPC. Singularity containers can be shared and distributed to support reproducible research and can be run on most HPC systems without modification as long as Singularity is installed.</p>
<h2 id="singularity-commands">Singularity Commands<a class="headerlink" href="#singularity-commands" title="Permanent link">#</a></h2>
<p>Singularity uses a series of subcommands and options controlled by a wrapper script called <code>singularity</code>. The <code>-h</code> option displays the command-line help documentation:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>module<span class="w"> </span>load<span class="w"> </span>singularity
$<span class="w"> </span>singularity<span class="w"> </span>-h
USAGE:<span class="w"> </span>singularity<span class="w"> </span><span class="o">[</span>global<span class="w"> </span>options...<span class="o">]</span><span class="w"> </span>&lt;command&gt;<span class="w"> </span><span class="o">[</span><span class="nb">command</span><span class="w"> </span>options...<span class="o">]</span><span class="w"> </span>...

GLOBAL<span class="w"> </span>OPTIONS:
<span class="w">    </span>-d<span class="p">|</span>--debug<span class="w">    </span>Print<span class="w"> </span>debugging<span class="w"> </span>information
<span class="w">    </span>-h<span class="p">|</span>--help<span class="w">     </span>Display<span class="w"> </span>usage<span class="w"> </span>summary
<span class="w">    </span>-s<span class="p">|</span>--silent<span class="w">   </span>Only<span class="w"> </span>print<span class="w"> </span>errors
<span class="w">    </span>-q<span class="p">|</span>--quiet<span class="w">    </span>Suppress<span class="w"> </span>all<span class="w"> </span>normal<span class="w"> </span>output
<span class="w">       </span>--version<span class="w">  </span>Show<span class="w"> </span>application<span class="w"> </span>version
<span class="w">    </span>-v<span class="p">|</span>--verbose<span class="w">  </span>Increase<span class="w"> </span>verbosity<span class="w"> </span>+1
<span class="w">    </span>-x<span class="p">|</span>--sh-debug<span class="w"> </span>Print<span class="w"> </span>shell<span class="w"> </span>wrapper<span class="w"> </span>debugging<span class="w"> </span>information

GENERAL<span class="w"> </span>COMMANDS:
<span class="w">    </span><span class="nb">help</span><span class="w">       </span>Show<span class="w"> </span>additional<span class="w"> </span><span class="nb">help</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>a<span class="w"> </span><span class="nb">command</span><span class="w"> </span>or<span class="w"> </span>container<span class="w">                  </span>
<span class="w">    </span>selftest<span class="w">   </span>Run<span class="w"> </span>some<span class="w"> </span>self<span class="w"> </span>tests<span class="w"> </span><span class="k">for</span><span class="w"> </span>singularity<span class="w"> </span>install<span class="w">                      </span>

CONTAINER<span class="w"> </span>USAGE<span class="w"> </span>COMMANDS:
<span class="w">    </span><span class="nb">exec</span><span class="w">       </span>Execute<span class="w"> </span>a<span class="w"> </span><span class="nb">command</span><span class="w"> </span>within<span class="w"> </span>container<span class="w">                               </span>
<span class="w">    </span>run<span class="w">        </span>Launch<span class="w"> </span>a<span class="w"> </span>runscript<span class="w"> </span>within<span class="w"> </span>container<span class="w">                              </span>
<span class="w">    </span>shell<span class="w">      </span>Run<span class="w"> </span>a<span class="w"> </span>Bourne<span class="w"> </span>shell<span class="w"> </span>within<span class="w"> </span>container<span class="w">                              </span>
<span class="w">    </span><span class="nb">test</span><span class="w">       </span>Launch<span class="w"> </span>a<span class="w"> </span>testscript<span class="w"> </span>within<span class="w"> </span>container<span class="w">                           </span>

CONTAINER<span class="w"> </span>MANAGEMENT<span class="w"> </span>COMMANDS:
<span class="w">    </span>apps<span class="w">       </span>List<span class="w"> </span>available<span class="w"> </span>apps<span class="w"> </span>within<span class="w"> </span>a<span class="w"> </span>container<span class="w">                           </span>
<span class="w">    </span>bootstrap<span class="w">  </span>*Deprecated*<span class="w"> </span>use<span class="w"> </span>build<span class="w"> </span>instead<span class="w">                                   </span>
<span class="w">    </span>build<span class="w">      </span>Build<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>Singularity<span class="w"> </span>container<span class="w">                                </span>
<span class="w">    </span>check<span class="w">      </span>Perform<span class="w"> </span>container<span class="w"> </span>lint<span class="w"> </span>checks<span class="w">                                    </span>
<span class="w">    </span>inspect<span class="w">    </span>Display<span class="w"> </span>container<span class="err">&#39;</span>s<span class="w"> </span>metadata<span class="w">                                     </span>
<span class="w">    </span>mount<span class="w">      </span>Mount<span class="w"> </span>a<span class="w"> </span>Singularity<span class="w"> </span>container<span class="w"> </span>image<span class="w">                              </span>
<span class="w">    </span>pull<span class="w">       </span>Pull<span class="w"> </span>a<span class="w"> </span>Singularity/Docker<span class="w"> </span>container<span class="w"> </span>to<span class="w"> </span><span class="nv">$PWD</span><span class="w">                      </span>

COMMAND<span class="w"> </span>GROUPS:
<span class="w">    </span>image<span class="w">      </span>Container<span class="w"> </span>image<span class="w"> </span><span class="nb">command</span><span class="w"> </span>group<span class="w">                                    </span>
<span class="w">    </span>instance<span class="w">   </span>Persistent<span class="w"> </span>instance<span class="w"> </span><span class="nb">command</span><span class="w"> </span>group<span class="w">                                </span>


CONTAINER<span class="w"> </span>USAGE<span class="w"> </span>OPTIONS:
<span class="w">    </span>see<span class="w"> </span>singularity<span class="w"> </span><span class="nb">help</span><span class="w"> </span>&lt;command&gt;
</code></pre></div>
<p>For more information see the <a href="https://sylabs.io/guides/3.7/user-guide/quick_start.html#interact-with-images">Singularity Quick Start</a>.</p>
<h3 id="download-pre-built-containers">Download Pre-built Containers<a class="headerlink" href="#download-pre-built-containers" title="Permanent link">#</a></h3>
<p>Many software packages already have containers built by other users. These containers are available from external sites such as Singularity Hub or Docker Hub.</p>
<p>The <code>singularity pull</code> command is used to download existing containers.</p>
<h4 id="pull-from-singularity-hub">Pull from Singularity Hub<a class="headerlink" href="#pull-from-singularity-hub" title="Permanent link">#</a></h4>
<p>To download a container from Singularity Hub:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>singularity<span class="w"> </span>pull<span class="w"> </span>shub://vsoch/hello-world<span class="w"> </span>
Progress<span class="w"> </span><span class="p">|</span><span class="o">===================================</span><span class="p">|</span><span class="w"> </span><span class="m">100</span>.0%
Done.<span class="w"> </span>Container<span class="w"> </span>is<span class="w"> </span>at:<span class="w"> </span>/home/user/vsoch-hello-world-master.sif
$<span class="w"> </span>./vsoch-hello-world-master.sif
RaawwWWWWWRRRR!!
</code></pre></div>
<p>You can also download and rename containers:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>singularity<span class="w"> </span>pull<span class="w"> </span>--name<span class="w"> </span>myContainer.sif<span class="w"> </span>shub://vsoch/hello-world
Progress<span class="w"> </span><span class="p">|</span><span class="o">===================================</span><span class="p">|</span><span class="w"> </span><span class="m">100</span>.0%
Done.<span class="w"> </span>Container<span class="w"> </span>is<span class="w"> </span>at:<span class="w"> </span>/home/user/myContainer.sif
$<span class="w"> </span>./myContainer.sif
RaawwWWWWWRRRR!!
</code></pre></div>
<h4 id="pull-from-docker-hub">Pull from Docker Hub<a class="headerlink" href="#pull-from-docker-hub" title="Permanent link">#</a></h4>
<p>To download a container from Docker Hub:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>singularity<span class="w"> </span>pull<span class="w"> </span>docker://godlovedc/lolcow
WARNING:<span class="w"> </span>pull<span class="w"> </span><span class="k">for</span><span class="w"> </span>Docker<span class="w"> </span>Hub<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>guaranteed<span class="w"> </span>to<span class="w"> </span>produce<span class="w"> </span>the
WARNING:<span class="w"> </span>same<span class="w"> </span>image<span class="w"> </span>on<span class="w"> </span>repeated<span class="w"> </span>pull.<span class="w"> </span>Use<span class="w"> </span>Singularity<span class="w"> </span>Registry
WARNING:<span class="w"> </span><span class="o">(</span>shub://<span class="o">)</span><span class="w"> </span>to<span class="w"> </span>pull<span class="w"> </span>exactly<span class="w"> </span>equivalent<span class="w"> </span>images.
Docker<span class="w"> </span>image<span class="w"> </span>path:<span class="w"> </span>index.docker.io/godlovedc/lolcow:latest
Cache<span class="w"> </span>folder<span class="w"> </span><span class="nb">set</span><span class="w"> </span>to<span class="w"> </span>/home/user/.singularity/docker
<span class="o">[</span><span class="m">6</span>/6<span class="o">]</span><span class="w"> </span><span class="p">|</span><span class="o">===================================</span><span class="p">|</span><span class="w"> </span><span class="m">100</span>.0%
Importing:<span class="w"> </span>base<span class="w"> </span>Singularity<span class="w"> </span>environment
Importing:<span class="w"> </span>/home/user/.singularity/docker/sha256:9fb6c798fa41e509b58bccc5c29654c3ff4648b608f5daa67c1aab6a7d02c118.tar.gz
...
Building<span class="w"> </span>Singularity<span class="w"> </span>image...
Singularity<span class="w"> </span>container<span class="w"> </span>built:<span class="w"> </span>./lolcow.img
Cleaning<span class="w"> </span>up...
$<span class="w"> </span>./lolcow.img
<span class="w"> </span>________________________________________
/<span class="w"> </span>It<span class="w"> </span>is<span class="w"> </span>a<span class="w"> </span>wise<span class="w"> </span>father<span class="w"> </span>that<span class="w"> </span>knows<span class="w"> </span>his<span class="w"> </span>own<span class="w"> </span><span class="se">\</span>
<span class="p">|</span><span class="w"> </span>child.<span class="w">                                 </span><span class="p">|</span>
<span class="p">|</span><span class="w">                                        </span><span class="p">|</span>
<span class="p">|</span><span class="w"> </span>--<span class="w"> </span>William<span class="w"> </span>Shakespeare,<span class="w"> </span><span class="s2">&quot;The Merchant  |</span>
<span class="s2">\ of Venice&quot;</span><span class="w">                             </span>/
<span class="w"> </span>----------------------------------------
<span class="w">        </span><span class="se">\ </span><span class="w">  </span>^__^
<span class="w">         </span><span class="se">\ </span><span class="w"> </span><span class="o">(</span>oo<span class="o">)</span><span class="se">\_</span>______
<span class="w">            </span><span class="o">(</span>__<span class="o">)</span><span class="se">\ </span><span class="w">      </span><span class="o">)</span><span class="se">\/\</span>
<span class="w">                </span><span class="o">||</span>----w<span class="w"> </span><span class="p">|</span>
<span class="w">                </span><span class="o">||</span><span class="w">     </span><span class="o">||</span>
</code></pre></div>
<p>The pull command downloads the container from Docker, converts it to Singularity format, and builds a the container. This is different than pulling an image from Singularity Hub, where the pull command simply downloads the image. Singularity includes warnings about this fact. Since a pull from Docker Hub induces a build process, the downloaded container is not guaranteed to be the same each time. If strict reproducibility is needed, pull from Singularity Hub.</p>
<h4 id="build-from-singularity-hub">Build from Singularity Hub<a class="headerlink" href="#build-from-singularity-hub" title="Permanent link">#</a></h4>
<p>The <code>singularity build</code> command can also be used to download existing containers.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>singularity<span class="w"> </span>build<span class="w"> </span>hello-world.sif<span class="w"> </span>shub://vsoch/hello-world
Cache<span class="w"> </span>folder<span class="w"> </span><span class="nb">set</span><span class="w"> </span>to<span class="w"> </span>/home/user/.singularity/shub
Progress<span class="w"> </span><span class="p">|</span><span class="o">===================================</span><span class="p">|</span><span class="w"> </span><span class="m">100</span>.0%
Building<span class="w"> </span>from<span class="w"> </span><span class="nb">local</span><span class="w"> </span>image:<span class="w"> </span>/home/user/.singularity/shub/vsoch-hello-world-master.sif
Building<span class="w"> </span>Singularity<span class="w"> </span>image...
Singularity<span class="w"> </span>container<span class="w"> </span>built:<span class="w"> </span>hello-world.sif
Cleaning<span class="w"> </span>up...
$<span class="w"> </span>./hello-world.sif
RaawwWWWWWRRRR!!
</code></pre></div>
<p>When using the build command, you must specify a name for your container. The build command differs from pull in that it will download and then build your image using the latest Singularity image format. Additional functionality of the build command is discussed in <a href="./#build-a-container">Build a Container</a>.</p>
<h4 id="build-from-docker-hub">Build from Docker Hub<a class="headerlink" href="#build-from-docker-hub" title="Permanent link">#</a></h4>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>singularity<span class="w"> </span>build<span class="w"> </span>lolcow.sif<span class="w"> </span>docker://godlovedc/lolcow
Docker<span class="w"> </span>image<span class="w"> </span>path:<span class="w"> </span>index.docker.io/godlovedc/lolcow:latest
Cache<span class="w"> </span>folder<span class="w"> </span><span class="nb">set</span><span class="w"> </span>to<span class="w"> </span>/home/user/.singularity/docker
Importing:<span class="w"> </span>base<span class="w"> </span>Singularity<span class="w"> </span>environment
Importing:<span class="w"> </span>/home/user/.singularity/docker/sha256:9fb6c798fa41e509b58bccc5c29654c3ff4648b608f5daa67c1aab6a7d02c118.tar.gz
...
Building<span class="w"> </span>Singularity<span class="w"> </span>image...
Singularity<span class="w"> </span>container<span class="w"> </span>built:<span class="w"> </span>lolcow.sif
Cleaning<span class="w"> </span>up...
$<span class="w"> </span>./lolcow.sif
<span class="w"> </span>______________________________________<span class="w"> </span>
&lt;<span class="w"> </span>Today<span class="w"> </span>is<span class="w"> </span>what<span class="w"> </span>happened<span class="w"> </span>to<span class="w"> </span>yesterday.<span class="w"> </span>&gt;
<span class="w"> </span>--------------------------------------
<span class="w">        </span><span class="se">\ </span><span class="w">  </span>^__^
<span class="w">         </span><span class="se">\ </span><span class="w"> </span><span class="o">(</span>oo<span class="o">)</span><span class="se">\_</span>______
<span class="w">            </span><span class="o">(</span>__<span class="o">)</span><span class="se">\ </span><span class="w">      </span><span class="o">)</span><span class="se">\/\</span>
<span class="w">                </span><span class="o">||</span>----w<span class="w"> </span><span class="p">|</span>
<span class="w">                </span><span class="o">||</span><span class="w">     </span><span class="o">||</span>
</code></pre></div>
<h3 id="build-a-container">Build a Container<a class="headerlink" href="#build-a-container" title="Permanent link">#</a></h3>
<p>The primary function of the build command is to create new containers either from scratch or based on existing containers. It is also used to convert between container formats. Full documentation of the build command is available at <a href="https://sylabs.io/guides/3.7/user-guide/build_a_container.html">Singularity Docs</a>. Here we include an example definition file and build process for a Python container.</p>
<h4 id="definition-file">Definition File<a class="headerlink" href="#definition-file" title="Permanent link">#</a></h4>
<p>First we write a definition file for the new container. A definition file defines the container build process including software installation, runtime functionality, etc. This file can be named how you like, but it is recommended to denote definition files with the <code>.def</code> extension. We will call our definition file <code>Python.def</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:1"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">container.def</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code>Bootstrap:<span class="w"> </span>docker
From:<span class="w"> </span>ubuntu:20.04

%help
<span class="c1"># Add information describing your container.</span>
This<span class="w"> </span>container<span class="w"> </span>includes<span class="w"> </span>Python.

%environment
<span class="w">    </span><span class="c1"># Set useful environment variables here. This section is used only at runtime, not during build.</span>
<span class="w">    </span><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span>/opt/python/bin:<span class="nv">$PATH</span>
<span class="w">    </span><span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/opt/python/lib:<span class="nv">$LD_LIBRARY_PATH</span>

%post
<span class="w">    </span><span class="c1"># Add build commands here. These commands are only run at build time.</span>

<span class="w">    </span><span class="c1"># Create useful bind points for needed file systems. The following are set by default in RCC and should always be included for containers used in RCC.</span>
<span class="w">    </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/scratch<span class="w"> </span>/hpc

<span class="w">    </span><span class="c1"># Install necessary packages.</span>
<span class="w">    </span>apt-get<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>--no-install-recommends<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>build-essential<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>gcc-multilib<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>ca-certificates<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>zlib1g-dev<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>libssl-dev<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>curl
<span class="w">    </span>apt-get<span class="w"> </span>clean
<span class="w">    </span>rm<span class="w"> </span>-rf<span class="w"> </span>/var/lib/apt/lists/*

<span class="w">    </span><span class="c1"># Install Python from source.</span>
<span class="w">    </span><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span>/opt/python/bin:<span class="nv">$PATH</span>
<span class="w">    </span>curl<span class="w"> </span>https://www.python.org/ftp/python/2.7.15/Python-2.7.15.tgz<span class="w"> </span>-o<span class="w"> </span>Python-2.7.15.tgz
<span class="w">    </span>tar<span class="w"> </span>-xvf<span class="w"> </span>Python-2.7.15.tgz<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>Python-2.7.15
<span class="w">    </span>./configure<span class="w"> </span>--prefix<span class="o">=</span>/opt/python<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>make<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>make<span class="w"> </span>install
<span class="w">    </span>rm<span class="w"> </span>-rf<span class="w"> </span>Python-2.7.15*

<span class="w">    </span><span class="c1"># Install pip package manager.</span>
<span class="w">    </span>curl<span class="w"> </span>https://bootstrap.pypa.io/get-pip.py<span class="w"> </span><span class="p">|</span><span class="w"> </span>python

<span class="w">    </span><span class="c1"># Install some useful Python packages.</span>
<span class="w">    </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>numpy<span class="w"> </span>scipy<span class="w"> </span>matplotlib<span class="w"> </span>

%test
<span class="w">    </span>/opt/python/bin/python<span class="w"> </span>--version
</code></pre></div>
<p>Full documentation of definition files at <a href="https://sylabs.io/guides/3.7/user-guide/definition_files.html">Singularity Docs</a>.</p>
<h4 id="build">Build<a class="headerlink" href="#build" title="Permanent link">#</a></h4>
<p>Build the container using the definition file:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>singularity<span class="w"> </span>build<span class="w"> </span>Python.sif<span class="w"> </span>Python.def
</code></pre></div>
<p>Build requires <code>root</code> or <code>sudo</code> permissions. The syntax is always <code>singularity build</code> followed by the new container name, denoted by the <code>.sif</code> extension, and the definition file.</p>
<h4 id="test">Test<a class="headerlink" href="#test" title="Permanent link">#</a></h4>
<p>Copy your container file to your RCC home directory and run a test:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>srun<span class="w"> </span>--ntasks<span class="o">=</span><span class="m">1</span><span class="w"> </span>--mem-per-cpu<span class="o">=</span>4GB<span class="w"> </span>--time<span class="o">=</span><span class="m">01</span>:00:00<span class="w"> </span>--job-name<span class="o">=</span>interactive<span class="w"> </span>--account<span class="o">={</span>PI_NetID<span class="o">}</span><span class="w"> </span>--pty<span class="w"> </span>bash
$<span class="w"> </span>module<span class="w"> </span>load<span class="w"> </span>singularity
$<span class="w"> </span>singularity<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>Python.sif<span class="w"> </span>python<span class="w"> </span>--version
Python<span class="w"> </span><span class="m">2</span>.7.15
</code></pre></div>
<p>Here we print the version of Python installed in the container. The exec command executes a command (i.e., <code>python --version</code>) within the container.</p>
<h2 id="containers-in-jobs">Containers in Jobs<a class="headerlink" href="#containers-in-jobs" title="Permanent link">#</a></h2>
<p>Singularity containers were designed to be run on HPC systems. RCC maintains containers for several software packages on the clusters. The following examples show an RCC built Singularity container which can be run in an interactive or batch job.</p>
<h3 id="example-interactive-job">Example Interactive job<a class="headerlink" href="#example-interactive-job" title="Permanent link">#</a></h3>
<p>Start an interactive job on the cluster:</p>
<div class="highlight"><pre><span></span><code>srun<span class="w"> </span>--ntasks<span class="o">=</span><span class="m">1</span><span class="w"> </span>--mem-per-cpu<span class="o">=</span>4GB<span class="w"> </span>--time<span class="o">=</span><span class="m">01</span>:00:00<span class="w"> </span>--job-name<span class="o">=</span>interactive<span class="w"> </span>--account<span class="o">={</span>PI_NetID<span class="o">}</span><span class="w"> </span>--pty<span class="w"> </span>bash
</code></pre></div>
<p>Load the Singularity module:</p>
<div class="highlight"><pre><span></span><code>module<span class="w"> </span>load<span class="w"> </span>singularity
</code></pre></div>
<p>Run a command in your container:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>singularity<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>Python.sif<span class="w"> </span>python<span class="w"> </span>hello_world.py
Hello,<span class="w"> </span>World!
</code></pre></div>
<p>The exec command is used to execute the <code>hello_world.py</code> script within the container.</p>
<p>Alternatively, shell into the container and run a command:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>singularity<span class="w"> </span>shell<span class="w"> </span>Python.sif<span class="w"> </span>
Singularity:<span class="w"> </span>Invoking<span class="w"> </span>an<span class="w"> </span>interactive<span class="w"> </span>shell<span class="w"> </span>within<span class="w"> </span>container...

Singularity<span class="w"> </span>Python.sif:~&gt;<span class="w"> </span>python<span class="w"> </span>hello_world.py<span class="w"> </span>
Hello,<span class="w"> </span>World!
</code></pre></div>
<p>If your container has a <strong>%runscript</strong> section defined, then you could also use the <code>singularity run</code> command. Choose the method that works best for you.</p>
<h3 id="example-batch-job">Example Batch Job<a class="headerlink" href="#example-batch-job" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="2:1"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">container.sh</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code>#!/bin/bash
#SBATCH --job-name=Testing
#SBATCH --ntasks=1
#SBATCH --time=00:01:00
#SBATCH --account=&lt;PI_NetID&gt;
#SBATCH --output=%x-%j.out

module load singularity
singularity exec Python.sif python hello_world.py
</code></pre></div>
<p>Submit the job:</p>
<div class="highlight"><pre><span></span><code>sbatch container.sh
</code></pre></div>
<p>This job will execute the <code>hello_world.py</code> script within the <code>Python.sif</code> container on a compute node. The output file should contain <code>Hello, World!</code>.</p>
<h2 id="singularity-on-rcc">Singularity on RCC<a class="headerlink" href="#singularity-on-rcc" title="Permanent link">#</a></h2>
<p>RCC uses Singularity to install and maintain software packages that would not otherwise be available on the compute clusters. This is often due to incompatible libraries or unsupported operating system. In some cases Singularity is used to control access or functionality of an application. RCC-built containers are designed to interact with RCC clusters. They include necessary file mount points, special libraries (e.g., CUDA), and custom wrapper commands. Here we will discuss the elements needed to make your containers compatible with RCC systems.</p>
<p>A set of useful directories are mounted by default on RCC clusters. The following file mounts should be included for non-<abbr title="Graphical Processing Unit">GPU</abbr> containers:</p>
<div class="highlight"><pre><span></span><code>/hpc
/scratch
</code></pre></div>
<p>Add to the <code>%post</code> section of your definition file:</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>-p<span class="w"> </span>/hpc<span class="w"> </span>/scratch
</code></pre></div>
<h2 id="singularity-and-docker">Singularity and Docker<a class="headerlink" href="#singularity-and-docker" title="Permanent link">#</a></h2>
<p>Singularity is conceptually similar to Docker and easily supports Docker images. We've shown above that Singularity can be used to download and Singularity-ize Docker images. It can also be used to build containers starting from a Docker image base (RCC does this). This allows RCC to support a wide variety of software that is already containerized with Docker. If you can find a container on Docker Hub, chances are that it will be supported through Singularity. If you already use Docker to containerize your software, then you can continue developing in Docker knowing that Singularity will easily import your images.</p>
<p>Full information on Singularity and Docker at <a href="https://sylabs.io/guides/3.7/user-guide/">Singularity Docs</a>.</p>
<h2 id="getting-help">Getting Help<a class="headerlink" href="#getting-help" title="Permanent link">#</a></h2>
<p>Contact <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#104;&#101;&#108;&#112;&#45;&#114;&#99;&#99;&#64;&#109;&#99;&#119;&#46;&#101;&#100;&#117;">&#104;&#101;&#108;&#112;&#45;&#114;&#99;&#99;&#64;&#109;&#99;&#119;&#46;&#101;&#100;&#117;</a> for assistance with containers.</p>
<!-- markdownlint-disable MD041 -->
<!-- markdownlint-enable MD041 -->


  




                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/mcw-rcc" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  
    
  


  
    
  



  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.
</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "navigation.instant", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.tracking", "navigation.top", "search.highlight", "search.share", "search.suggest"], "search": "../../assets/javascripts/workers/search.db81ec45.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.4b2c34cd.min.js"></script>
      
    
  </body>
</html>